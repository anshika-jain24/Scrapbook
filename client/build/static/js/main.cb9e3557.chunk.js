(this.webpackJsonptodolist=this.webpackJsonptodolist||[]).push([[0],{167:function(e,t,a){},168:function(e,t,a){},194:function(e,t,a){},243:function(e,t,a){},244:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(35),o=a.n(r),i=(a(167),a(14)),s=a(30),l=a(321),u=a(322),d=a(307),j=a(315),p=a(326),b=a(316),m=a(327),h=a(324),x=a(325),O=a(320),f=a(81),g=a.n(f),v=a(85),y=a(140),w=a(338),S=(a(168),a(127)),T=a.n(S).a.create({baseURL:"https://digitalscrapbooksai.herokuapp.com/"});T.interceptors.request.use((function(e){return localStorage.getItem("profile")&&(e.headers.authorization="Bearer ".concat(localStorage.getItem("profile"))),e}));var M={headers:{"content-type":"multipart/form-data"}},k=function(e){return T.post("/api/placesToVisit",{place:e})},C=function(e){return T.post("/api/placesVisited",e,M)},L=function(e){return T.post("/api/upload",e,M)},E=function(e,t,a){return function(n){n(D(!0)),setTimeout((function(){(function(e,t){return T.post("/api/auth/login",{email:e,password:t})})(e,t).then((function(e){200===e.status&&(localStorage.setItem("profile",e.data.token),n(D(!1)),n({type:"LOGIN",payload:e.data}),a("/"))})).catch((function(e){console.log(e),console.log(e.response),alert(e.response.data.msg),n(D(!1))}))}),2e3)}},I=function(e,t,a){return function(n){n(D(!0)),setTimeout((function(){(function(e,t,a){return T.post("/api/auth/signup",{email:e,password:t,name:a})})(e,t,a).then((function(e){200===e.status&&(localStorage.setItem("profile",e.data.token),n(D(!1)),n({type:"LOGIN",payload:e.data}))})).catch((function(e){console.log(e),console.log(e.response),alert(e.response.data.msg),n(D(!1))}))}),2e3)}},D=function(e){return{type:"CHANGE_LOADING_STATUS",payload:e}},V=a(18),B=a(1),_=Object(y.a)();function N(){var e=Object(V.b)(),t=Object(i.h)();return Object(B.jsx)(w.a,{theme:_,children:Object(B.jsxs)(O.a,{container:!0,component:"main",sx:{height:"100vh"},children:[Object(B.jsx)(d.a,{}),Object(B.jsx)(O.a,{className:"signInImg",item:!0,xs:!1,sm:4,md:7,sx:{backgroundRepeat:"no-repeat",backgroundColor:function(e){return"light"===e.palette.mode?e.palette.grey[50]:e.palette.grey[900]},backgroundSize:"cover",backgroundPosition:"center"}}),Object(B.jsx)(O.a,{item:!0,xs:12,sm:8,md:5,component:h.a,elevation:6,square:!0,children:Object(B.jsxs)(x.a,{sx:{my:8,mx:4,display:"flex",flexDirection:"column",alignItems:"center"},children:[Object(B.jsx)(l.a,{sx:{m:1,bgcolor:"secondary.main"},children:Object(B.jsx)(g.a,{})}),Object(B.jsx)(v.a,{component:"h1",variant:"h5",children:"Sign in"}),Object(B.jsxs)(x.a,{component:"form",noValidate:!0,onSubmit:function(a){a.preventDefault();var n=new FormData(a.currentTarget);console.log({email:n.get("email"),password:n.get("password")}),e(E(n.get("email"),n.get("password"),t))},sx:{mt:1},children:[Object(B.jsx)(j.a,{margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",autoFocus:!0}),Object(B.jsx)(j.a,{margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password"}),Object(B.jsx)(p.a,{control:Object(B.jsx)(b.a,{value:"remember",color:"primary"}),label:"Remember me"}),Object(B.jsx)(u.a,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},children:"Sign In"}),Object(B.jsxs)(O.a,{container:!0,children:[Object(B.jsx)(O.a,{item:!0,xs:!0,children:Object(B.jsx)(m.a,{href:"#",variant:"body2",children:"Forgot password?"})}),Object(B.jsx)(O.a,{item:!0,children:Object(B.jsx)(m.a,{href:"/signUp",variant:"body2",children:"Don't have an account? Sign Up"})})]})]})]})})]})})}var A=a(328),F=Object(y.a)();function G(){var e=Object(V.b)();return Object(B.jsx)(w.a,{theme:F,children:Object(B.jsxs)(A.a,{component:"main",maxWidth:"xs",children:[Object(B.jsx)(d.a,{}),Object(B.jsxs)(x.a,{sx:{marginTop:8,display:"flex",flexDirection:"column",alignItems:"center"},children:[Object(B.jsx)(l.a,{sx:{m:1,bgcolor:"secondary.main"},children:Object(B.jsx)(g.a,{})}),Object(B.jsx)(v.a,{component:"h1",variant:"h5",children:"Sign up"}),Object(B.jsxs)(x.a,{component:"form",noValidate:!0,onSubmit:function(t){t.preventDefault();var a=new FormData(t.currentTarget);console.log({email:a.get("email"),password:a.get("password")});var n=a.get("firstName")+" "+a.get("lastName");e(I(a.get("email"),a.get("password"),n))},sx:{mt:3},children:[Object(B.jsxs)(O.a,{container:!0,spacing:2,children:[Object(B.jsx)(O.a,{item:!0,xs:12,sm:6,children:Object(B.jsx)(j.a,{autoComplete:"given-name",name:"firstName",required:!0,fullWidth:!0,id:"firstName",label:"First Name",autoFocus:!0})}),Object(B.jsx)(O.a,{item:!0,xs:12,sm:6,children:Object(B.jsx)(j.a,{required:!0,fullWidth:!0,id:"lastName",label:"Last Name",name:"lastName",autoComplete:"family-name"})}),Object(B.jsx)(O.a,{item:!0,xs:12,children:Object(B.jsx)(j.a,{required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email"})}),Object(B.jsx)(O.a,{item:!0,xs:12,children:Object(B.jsx)(j.a,{required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"new-password"})})]}),Object(B.jsx)(u.a,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},children:"Sign Up"}),Object(B.jsx)(O.a,{container:!0,justifyContent:"flex-end",children:Object(B.jsx)(O.a,{item:!0,children:Object(B.jsx)(m.a,{href:"/signIn",variant:"body2",children:"Already have an account? Sign in"})})})]})]})]})})}a(194);var W=function(){return Object(B.jsxs)(B.Fragment,{children:[Object(B.jsx)(x.a,{className:"homepageBanner",children:Object(B.jsxs)(x.a,{className:"bannerText",children:[Object(B.jsxs)(v.a,{className:"bannerHeading",children:["Travel ",Object(B.jsx)("br",{}),"Tales"]}),Object(B.jsx)(v.a,{className:"bannerSubText",children:"Narrate your Own Tale"}),Object(B.jsx)(u.a,{className:"signInButton",component:s.b,to:"/signin",variant:"contained",color:"primary",children:"SIGN IN"})]})}),Object(B.jsx)(x.a,{sx:{p:2},children:Object(B.jsx)(v.a,{variant:"h3",children:"Explore"})})]})},z=a(13),P=a(332),H=a(333),R=a(334),U=a(139),q=a(135),J=a.n(q),Y=a(313),Z=a(319),Q=[],K=function(){var e=Object(V.b)(),t=Object(i.h)(),a=c.a.useState(null),n=Object(z.a)(a,2),r=n[0],o=n[1],d=c.a.useState(null),j=Object(z.a)(d,2),p=j[0],b=j[1],m=function(){o(null)};return Object(B.jsx)(P.a,{position:"static",sx:{mb:2},children:Object(B.jsx)(A.a,{maxWidth:"xl",children:Object(B.jsxs)(H.a,{disableGutters:!0,children:[Object(B.jsx)(v.a,{variant:"h6",noWrap:!0,component:"div",sx:{mr:2,display:{xs:"none",md:"flex"}},children:"WELCOME"}),Object(B.jsxs)(x.a,{sx:{flexGrow:1,display:{xs:"flex",md:"none"}},children:[Object(B.jsx)(R.a,{size:"large","aria-label":"account of current user","aria-controls":"menu-appbar","aria-haspopup":"true",onClick:function(e){o(e.currentTarget)},color:"inherit",children:Object(B.jsx)(J.a,{})}),Object(B.jsx)(U.a,{id:"menu-appbar",anchorEl:r,anchorOrigin:{vertical:"bottom",horizontal:"left"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"left"},open:Boolean(r),onClose:m,sx:{display:{xs:"block",md:"none"}},children:Q.map((function(e){return Object(B.jsx)(Z.a,{onClick:m,children:Object(B.jsx)(v.a,{textAlign:"center",children:e})},e)}))})]}),Object(B.jsx)(v.a,{variant:"h6",noWrap:!0,component:"div",sx:{flexGrow:1,display:{xs:"flex",md:"none"}},children:"WELCOME"}),Object(B.jsx)(x.a,{sx:{flexGrow:1,display:{xs:"none",md:"flex"}},children:Q.map((function(e){return Object(B.jsx)(u.a,{onClick:m,sx:{my:2,color:"white",display:"block"},children:e},e)}))}),Object(B.jsxs)(x.a,{sx:{flexGrow:0},children:[Object(B.jsx)(Y.a,{title:"Open settings",children:Object(B.jsx)(R.a,{onClick:function(e){b(e.currentTarget)},sx:{p:0},children:Object(B.jsx)(l.a,{})})}),Object(B.jsxs)(U.a,{sx:{mt:"45px"},id:"menu-appbar",anchorEl:p,anchorOrigin:{vertical:"top",horizontal:"right"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:Boolean(p),onClose:function(){b(null)},children:[Object(B.jsx)(Z.a,{onClick:m,children:Object(B.jsx)(v.a,{textAlign:"center",component:s.b,to:"/dashboard",style:{textDecoration:"none"},children:"Dashboard"})},"dashboard"),Object(B.jsx)(Z.a,{onClick:function(){o(null),e(function(e){return function(t){t({type:"LOGOUT"}),e("/signin")}}(t))},children:Object(B.jsx)(v.a,{textAlign:"center",children:"Logout"})},"logout")]})]})]})})})},X=a(49),$=a(19),ee=a.n($),te=a(26),ae=a(38),ne=a.n(ae),ce=a(136),re=a.n(ce),oe=(a(243),a(335)),ie=function(e){return{type:"CHANGE_LOADING_STATUS",payload:e}},se=function(e){return function(){var t=Object(te.a)(ee.a.mark((function t(a){var n;return ee.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,L(e);case 2:n=t.sent,console.log(n);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},le=function(e){return{type:"CHANGE_LOADING_STATUS",payload:e}};ne.a.accessToken="pk.eyJ1Ijoic2Fpa2VzaGFyaSIsImEiOiJja2swdDYyanYwM3IwMm5xZjZlYm1kZmlsIn0.1ha1QjW98gYknER_3JqN6w";var ue=new re.a({accessToken:"pk.eyJ1Ijoic2Fpa2VzaGFyaSIsImEiOiJja2swdDYyanYwM3IwMm5xZjZlYm1kZmlsIn0.1ha1QjW98gYknER_3JqN6w",mapboxgl:ne.a});var de=function(){var e=Object(n.useRef)(null),t=Object(n.useState)(-70.9),a=Object(z.a)(t,2),c=a[0],r=a[1],o=Object(n.useState)(42.35),s=Object(z.a)(o,2),l=s[0],u=s[1],d=Object(n.useState)(1.2),j=Object(z.a)(d,2),p=j[0],b=j[1],m=Object(V.b)(),h=Object(i.h)(),x=Object(V.c)((function(e){return e.placesToVisit})),O=Object(V.c)((function(e){return e.placesVisited})),f=Object(n.useState)([]),g=Object(z.a)(f,2),v=g[0],y=g[1],w=Object(n.useState)([]),S=Object(z.a)(w,2),M=S[0],C=S[1],L=Object(n.useState)(!1),E=Object(z.a)(L,2),I=E[0],D=E[1];return Object(n.useEffect)((function(){function e(){return(e=Object(te.a)(ee.a.mark((function e(){return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y(x.placesToVisitData.map((function(e){return{type:"Feature",geometry:e.location,properties:{name:e.name},id:e._id}})));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}x.isLoaded&&function(){e.apply(this,arguments)}()}),[x,m]),Object(n.useEffect)((function(){function e(){return(e=Object(te.a)(ee.a.mark((function e(){return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C(O.placesVisitedData.map((function(e){return{type:"Feature",geometry:e.place.location,properties:{name:e.place.name},id:e.place._id}})));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}O.isLoaded&&function(){e.apply(this,arguments)}()}),[O,m]),Object(n.useEffect)((function(){if(x.isLoaded&&O.isLoaded){console.log("inside map");var t=new ne.a.Map({container:e.current,style:"mapbox://styles/mapbox/streets-v11",center:[c,l],zoom:p}),a={type:"FeatureCollection",features:v},n={type:"FeatureCollection",features:M};console.log(a),console.log(n),t.on("load",(function(){t.addSource("placesToVisit",{type:"geojson",data:a}),t.addLayer({id:"places-to-visit",type:"fill",source:"placesToVisit",layout:{},paint:{"fill-color":"#f08","fill-opacity":.4}}),t.addSource("placesVisited",{type:"geojson",data:n}),t.addLayer({id:"places-visited",type:"fill",source:"placesVisited",layout:{},paint:{"fill-color":"#f08","fill-opacity":.4}})}));var o,i=Object(X.a)(a.features);try{var s=function(){var e=o.value,a=document.createElement("div");a.className="markerToVisit";var n=e.properties.name,c='<div style="font-size: large;color : black;">\n                          <h4 class="h4Class">'.concat(n," </h4> </div>"),r=document.createElement("div"),i=document.createElement("div");i.innerHTML='<button class="MuiButton-root MuiButton-contained MuiButton-containedPrimary MuiButton-sizeMedium MuiButton-containedSizeMedium MuiButtonBase-root  css-sghohy-MuiButtonBase-root-MuiButton-root" >Remove from To Visit</button>',r.innerHTML=c,r.appendChild(i),i.addEventListener("click",(function(t){var a;m((a=e.id,function(){var e=Object(te.a)(ee.a.mark((function e(t){var n,c;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t(ie(!0)),e.next=4,r=a,T.patch("/api/placesToVisit",{placeID:r});case 4:n=e.sent,c=n.data,t({type:"GET_PLACES_TOVISIT",payload:c}),t(ie(!1)),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0),t(ie(!1));case 14:case"end":return e.stop()}var r}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}()))}));var s=new ne.a.Popup({offset:[0,-15]}).setLngLat(e.geometry.coordinates).setDOMContent(r).addTo(t);new ne.a.Marker(a).setLngLat(e.geometry.coordinates).setPopup(s).addTo(t)};for(i.s();!(o=i.n()).done;)s()}catch(E){i.e(E)}finally{i.f()}var d,j=Object(X.a)(n.features);try{for(j.s();!(d=j.n()).done;){var f=d.value,g=document.createElement("div");g.className="markerVisited";var y=f.properties.name,w='<div style="font-size: large;color : black;">\n                          <h4 class="h4Class">'.concat(y," </h4> </div>"),S=document.createElement("div"),C=document.createElement("div");C.innerHTML='<button class="MuiButton-root MuiButton-contained MuiButton-containedPrimary MuiButton-sizeMedium MuiButton-containedSizeMedium MuiButtonBase-root  css-sghohy-MuiButtonBase-root-MuiButton-root" >Remove from Visited</button>',S.innerHTML=w,S.appendChild(C),C.addEventListener("click",(function(e){console.log("clicked to remove visited place")}));var L=new ne.a.Popup({offset:[0,-15]}).setLngLat(f.geometry.coordinates).setDOMContent(S).addTo(t);new ne.a.Marker(g).setLngLat(f.geometry.coordinates).setPopup(L).addTo(t)}}catch(E){j.e(E)}finally{j.f()}return t.addControl(new ne.a.NavigationControl,"top-left"),t.addControl(ue),t.on("move",(function(){r(t.getCenter().lng.toFixed(4)),u(t.getCenter().lat.toFixed(4)),b(t.getZoom().toFixed(2))})),ue.on("result",(function(e){var a=e.result,n=document.getElementsByClassName("mapboxgl-popup");n.length&&n[0].remove();var c=e.result.place_name,r='<div style="font-size: large;color : black;">\n                          <h4 class="h4Class">'.concat(c," </h4> </div>"),o=document.createElement("div"),i=document.createElement("div");i.innerHTML='<button class="MuiButton-root MuiButton-contained MuiButton-containedPrimary MuiButton-sizeMedium MuiButton-containedSizeMedium MuiButtonBase-root  css-sghohy-MuiButtonBase-root-MuiButton-root" >Add To Visit</button>',o.innerHTML=r,o.appendChild(i),i.addEventListener("click",(function(e){var t,n={name:a.place_name,location:a.geometry};m((t=n,function(){var e=Object(te.a)(ee.a.mark((function e(a){var n,c;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a(ie(!0)),e.next=4,k(t);case 4:n=e.sent,c=n.data,a({type:"ADD_PLACES_TOVISIT",payload:c}),a(ie(!1)),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0),a(ie(!1));case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}()))}));var s=document.createElement("div");s.innerHTML='<button class="MuiButton-root MuiButton-contained MuiButton-containedPrimary MuiButton-sizeMedium MuiButton-containedSizeMedium MuiButtonBase-root  css-sghohy-MuiButtonBase-root-MuiButton-root" >Add To Visited</button>',o.appendChild(s),s.addEventListener("click",(function(e){var t={name:a.place_name,location:a.geometry};h("/add",{state:t})}));new ne.a.Popup({offset:[0,-15]}).setLngLat(e.result.geometry.coordinates).setDOMContent(o).addTo(t)})),D(!0),function(){return t.remove()}}}),[v,M,m]),Object(B.jsxs)(B.Fragment,{children:[I?Object(B.jsx)(B.Fragment,{}):Object(B.jsx)("div",{className:"map-container-loader",children:Object(B.jsx)(oe.a,{className:"map-loader"})}),Object(B.jsx)("div",{ref:e,className:"map-container"})]})},je=a(329),pe=a(336),be=a(337),me=a(4),he=a(331),xe=a(318),Oe=a(311),fe=Object(me.a)("div")((function(e){return{backgroundColor:e.theme.palette.background.paper}}));function ge(){var e=Object(V.c)((function(e){return e.placesToVisit}));return Object(B.jsx)(x.a,{sx:{flexGrow:1,border:"0.5px dashed black",maxWidth:"70%",margin:"auto",padding:"0.5rem",maxHeight:"30rem",overflow:"auto"},children:Object(B.jsx)(O.a,{container:!0,children:Object(B.jsxs)(O.a,{item:!0,md:12,style:{margin:"auto"},children:[Object(B.jsx)(v.a,{sx:{mt:4,mb:2},variant:"h6",component:"div",style:{textAlign:"center"},children:"Explore your Places to Visit"}),Object(B.jsx)(fe,{children:Object(B.jsx)(he.a,{children:e.placesToVisitData.map((function(e){var t=e.rating[0],a=e.rating[1],n=0;return 0!=t&&0!=a&&(n=t/a),console.log("s",t),console.log("t",a),Object(B.jsx)(xe.a,{secondaryAction:Object(B.jsxs)(R.a,{edge:"end","aria-label":"delete",children:["Rating : ",n]}),children:Object(B.jsx)(Oe.a,{primary:e.name})})}))})})]})})})}var ve=function(){var e=Object(V.c)((function(e){return e.placesToVisit})),t=Object(V.c)((function(e){return e.placesVisited}));return console.log(e),console.log(t),e.isLoaded&&t.isLoaded?Object(B.jsxs)(B.Fragment,{children:[Object(B.jsx)(K,{}),Object(B.jsxs)(x.a,{sx:{p:2},children:[Object(B.jsx)(v.a,{variant:"h4",style:{padding:"1rem",textAlign:"center"},children:"Have a look at all the amazing places you have visited!"}),Object(B.jsx)(O.a,{container:!0,justify:"center",alignItems:"center",spacing:2,children:t.placesVisitedData.map((function(e,t){var a=e.personal_note;return a.length>100&&(a=a.substring(0,100)),Object(B.jsx)(O.a,{item:!0,sm:3,children:Object(B.jsxs)(je.a,{children:[Object(B.jsxs)(pe.a,{children:[Object(B.jsx)(v.a,{variant:"h5",component:"div",style:{padding:"0.5rem"},children:e.place.name}),Object(B.jsxs)(v.a,{variant:"body2",children:[a,a===e.personal_note?Object(B.jsx)(B.Fragment,{}):Object(B.jsx)(B.Fragment,{children:"..."})]})]}),Object(B.jsx)(be.a,{children:Object(B.jsx)(s.b,{to:"/placesVisited/".concat(e._id),style:{textDecoration:"none"},children:Object(B.jsx)(u.a,{variant:"contained",children:"See More"})})})]})})}))})]}),Object(B.jsx)(ge,{}),Object(B.jsx)(de,{})]}):Object(B.jsx)(B.Fragment,{})},ye=a(323),we=function(){var e=Object(V.b)(),t=Object(n.useState)(null),a=Object(z.a)(t,2),c=a[0],r=a[1],o=function(){var t=Object(te.a)(ee.a.mark((function t(a){var n;return ee.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:(n=new FormData).append("image",c),n.append("data1","sample"),e(se(n));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(B.jsxs)("div",{children:[Object(B.jsx)("div",{children:"React S3 File Upload"}),Object(B.jsx)("input",{type:"file",onChange:function(e){r(e.target.files[0])}}),Object(B.jsx)("button",{onClick:function(){return o(c)},children:" Upload to S3"})]})},Se=a(17),Te=a(314),Me=Object(Te.a)((function(e){return{root:{"& .MuiTextField-root":{margin:"0.5rem"}},paper:{padding:"0.5rem"},form:{display:"flex",flexWrap:"wrap",justifyContent:"center"},fileInput:{width:"97%",margin:"12px 0"},buttonSubmit:{marginBottom:10}}}));var ke=function(){var e=Object(n.useState)({personal_note:"",review:"",rating:-1}),t=Object(z.a)(e,2),a=t[0],c=t[1],r=Me(),o=Object(V.b)(),s=Object(i.g)(),l=Object(n.useState)(null),d=Object(z.a)(l,2),p=d[0],b=d[1];console.log(p);var m={name:s.state.name,location:s.state.location};console.log(m);var x=function(){c({personal_note:"",review:"",rating:-1})};return Object(B.jsxs)(h.a,{className:r.paper,children:[Object(B.jsx)(v.a,{variant:"h4",children:s.state.name}),Object(B.jsxs)("form",{autoComplete:"off",noValidate:!0,className:"".concat(r.root," ").concat(r.form),onSubmit:function(e){e.preventDefault();var t=new FormData(document.getElementById("add-place-tovisited-form"));t.append("place",JSON.stringify(m));var a,n,c=Object(X.a)(t.entries());try{for(c.s();!(a=c.n()).done;){var r=a.value;console.log(r[0]+", "+r[1])}}catch(i){c.e(i)}finally{c.f()}o((n=t,function(){var e=Object(te.a)(ee.a.mark((function e(t){var a,c;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(n),e.prev=1,t(le(!0)),e.next=5,C(n);case 5:a=e.sent,c=a.data,t({type:"ADD_PLACES_VISITED",payload:c}),t(le(!1)),window.location.href="/dashboard",e.next=16;break;case 12:e.prev=12,e.t0=e.catch(1),console.log(e.t0),t(le(!1));case 16:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(t){return e.apply(this,arguments)}}())),x()},encType:"multipart/form-data",id:"add-place-tovisited-form",children:[Object(B.jsx)(v.a,{variant:"h6",children:"Creating a Memory"}),Object(B.jsx)(j.a,{name:"personal_note",variant:"outlined",label:"Message",fullWidth:!0,multiline:!0,rows:4,value:a.personal_note,onChange:function(e){return c(Object(Se.a)(Object(Se.a)({},a),{},{personal_note:e.target.value}))}}),Object(B.jsx)(j.a,{name:"review",variant:"outlined",label:"Review",fullWidth:!0,multiline:!0,rows:4,value:a.review,onChange:function(e){return c(Object(Se.a)(Object(Se.a)({},a),{},{review:e.target.value}))}}),Object(B.jsx)(j.a,{name:"rating",label:"Rating",type:"number",fullWidth:!0,InputLabelProps:{shrink:!0},value:a.rating,onChange:function(e){return c(Object(Se.a)(Object(Se.a)({},a),{},{rating:e.target.value}))}}),Object(B.jsxs)(O.a,{children:[Object(B.jsx)(O.a,{item:!0,xs:4,children:"SSS"}),Object(B.jsx)(O.a,{item:!0,xs:8,children:"SSS"})]}),Object(B.jsx)("input",{accept:"*",className:r.input,style:{display:"none"},id:"raised-button-file",multiple:!0,type:"file",onChange:function(e){console.log(e.target.files),b(e.target.files)},name:"image_files"}),Object(B.jsx)("label",{htmlFor:"raised-button-file",children:Object(B.jsx)(u.a,{variant:"contained",component:"span",sx:{m:2},children:"Upload"})}),Object(B.jsx)(u.a,{className:r.buttonSubmit,variant:"contained",color:"primary",size:"large",type:"submit",fullWidth:!0,children:"Submit"}),Object(B.jsx)(u.a,{variant:"contained",color:"secondary",size:"small",onClick:x,fullWidth:!0,children:"Clear"})]})]})},Ce=a(330),Le=a(312),Ee=Object(y.a)();function Ie(e){var t=e.place;console.log(t);var a=t.place.rating[0]/t.place.rating[1];return Object(B.jsxs)(w.a,{theme:Ee,children:[Object(B.jsx)(d.a,{}),Object(B.jsx)(K,{}),Object(B.jsxs)("main",{children:[Object(B.jsx)(x.a,{sx:{bgcolor:"background.paper",pt:8,pb:6},children:Object(B.jsxs)(A.a,{maxWidth:"sm",children:[Object(B.jsx)(v.a,{component:"h1",variant:"h2",align:"center",color:"text.primary",gutterBottom:!0,children:t.place.name}),Object(B.jsx)(v.a,{variant:"h5",align:"center",color:"text.secondary",paragraph:!0,children:t.personal_note}),Object(B.jsxs)(Le.a,{sx:{pt:4},direction:"row",spacing:2,justifyContent:"center",children:[Object(B.jsxs)(u.a,{variant:"contained",children:["My rating : ",t.rating]}),Object(B.jsxs)(u.a,{variant:"outlined",children:["Overall Rating : ",a]})]})]})}),Object(B.jsx)(A.a,{sx:{py:8},maxWidth:"md",children:Object(B.jsx)(O.a,{container:!0,spacing:4,children:t.images.map((function(e){return Object(B.jsx)(O.a,{item:!0,xs:12,sm:6,md:4,children:Object(B.jsx)(je.a,{sx:{height:"100%",display:"flex",flexDirection:"column"},children:Object(B.jsx)(Ce.a,{component:"img",sx:{pt:"0"},image:"https://d2ukmwp0ov62it.cloudfront.net/".concat(e),alt:"random"})})},e)}))})})]})]})}var De=function(){var e=Object(V.c)((function(e){return e.placesVisited.placesVisitedData})),t=Object(i.i)().place,a=e.filter((function(e){return e._id===t}));return 0===a.length?(console.log("No such place"),Object(B.jsx)(ve,{})):Object(B.jsx)(Ie,{place:a[0]})};function Ve(){return localStorage.getItem("profile")?Object(B.jsx)(i.b,{}):Object(B.jsx)(i.a,{to:"/home"})}function Be(){return localStorage.getItem("profile")?Object(B.jsx)(i.a,{to:"/dashboard"}):Object(B.jsx)(i.b,{})}var _e=function(){var e=localStorage.getItem("profile"),t=Object(V.c)((function(e){return e.loading.isLoading})),a=Object(V.b)();return Object(n.useEffect)((function(){e&&(a(function(){var e=Object(te.a)(ee.a.mark((function e(t){var a,n;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t(ie(!0)),e.next=4,T.get("/api/placesToVisit");case 4:a=e.sent,n=a.data,t({type:"GET_PLACES_TOVISIT",payload:n}),t(ie(!1)),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0.message),t(ie(!1));case 15:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}()),a(function(){var e=Object(te.a)(ee.a.mark((function e(t){var a,n;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t(le(!0)),e.next=4,T.get("/api/placesVisited");case 4:a=e.sent,n=a.data,t({type:"GET_PLACES_VISITED",payload:n}),t(le(!1)),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0.message),t(le(!1));case 15:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}()))}),[e,a]),Object(B.jsxs)(B.Fragment,{children:[t&&Object(B.jsx)(ye.a,{}),Object(B.jsx)(s.a,{children:Object(B.jsxs)(i.e,{children:[Object(B.jsxs)(i.c,{path:"/",element:Object(B.jsx)(Ve,{}),children:[Object(B.jsx)(i.c,{path:"/dashboard",element:Object(B.jsx)(ve,{})}),Object(B.jsx)(i.c,{path:"/upload",element:Object(B.jsx)(we,{})}),Object(B.jsx)(i.c,{path:"/add",element:Object(B.jsx)(ke,{})}),Object(B.jsx)(i.c,{path:"/placesVisited/:place",element:Object(B.jsx)(De,{})}),Object(B.jsx)(i.c,{path:"/",element:Object(B.jsx)(i.a,{to:"/dashboard"})})]}),Object(B.jsxs)(i.c,{path:"/",element:Object(B.jsx)(Be,{}),children:[Object(B.jsx)(i.c,{path:"/home",element:Object(B.jsx)(W,{})}),Object(B.jsx)(i.c,{path:"/signIn",element:Object(B.jsx)(N,{})}),Object(B.jsx)(i.c,{path:"/signup",element:Object(B.jsx)(G,{})}),Object(B.jsx)(i.c,{path:"/",element:Object(B.jsx)(i.a,{to:"/home"})})]})]})})]})},Ne=a(65),Ae=a(137),Fe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{authData:null},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN":return Object(Se.a)(Object(Se.a)({},e),{},{authData:t.payload});case"LOGOUT":return localStorage.clear(),Object(Se.a)(Object(Se.a)({},e),{},{authData:null});default:return e}},Ge=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isLoading:!1},t=arguments.length>1?arguments[1]:void 0;return"CHANGE_LOADING_STATUS"===t.type?Object(Se.a)(Object(Se.a)({},e),{},{isLoading:t.payload}):e},We=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{placeData:null},t=arguments.length>1?arguments[1]:void 0;return"GET_PLACES"===t.type?Object(Se.a)(Object(Se.a)({},e),{},{placeData:t.payload}):e},ze=a(15),Pe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{placesToVisitData:[],isLoaded:!1},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_PLACES_TOVISIT":return Object(Se.a)(Object(Se.a)({},e),{},{placesToVisitData:t.payload,isLoaded:!0});case"ADD_PLACES_TOVISIT":return Object(Se.a)(Object(Se.a)({},e),{},{placesToVisitData:[].concat(Object(ze.a)(e.placesToVisitData),[t.payload])});default:return e}},He=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{placesVisitedData:[],isLoaded:!1},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_PLACES_VISITED":return Object(Se.a)(Object(Se.a)({},e),{},{placesVisitedData:t.payload,isLoaded:!0});case"ADD_PLACES_VISITED":return Object(Se.a)(Object(Se.a)({},e),{},{placesVisitedData:[].concat(Object(ze.a)(e.placesVisitedData),[t.payload])});default:return e}},Re=a(138),Ue=Object(Ae.composeWithDevTools)({}),qe=Object(Ne.createStore)(Object(Ne.combineReducers)({auth:Fe,loading:Ge,places:We,placesToVisit:Pe,placesVisited:He}),Ue(Object(Ne.applyMiddleware)(Re.a)));o.a.render(Object(B.jsx)(c.a.StrictMode,{children:Object(B.jsx)(V.a,{store:qe,children:Object(B.jsx)(_e,{})})}),document.getElementById("root"))}},[[244,1,2]]]);
//# sourceMappingURL=main.cb9e3557.chunk.js.map